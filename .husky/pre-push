echo "ğŸ§ª Running root Jest tests..."
npm test -- --passWithNoTests

if [ $? -ne 0 ]; then
  echo "âŒ Root tests failed. Push aborted."
  exit 1
fi

echo "âœ… Root tests passed!"

echo "ğŸ§ª Running client Jest tests..."
cd client && npm test -- --watchAll=false --passWithNoTests

if [ $? -ne 0 ]; then
  echo "âŒ Client tests failed. Push aborted."
  exit 1
fi

echo "âœ… Client tests passed!"
echo "âœ… All tests passed! Proceeding with push..."
